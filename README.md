# Библиотека драйверов и примеров кода подводного аппарата

Библиотека написана на **языке C++** для микроконтроллера STM32,
использует **CMake** в качестве системы сборки, используется библиотека **CMSIS**.

## Структура

В корневой папке лежат папки программных модулей. В них находятся папки **include**
с публичными заголовочными файлами (при наличии драйверов) и папки **example** с кодом примеров,
а также файл **CMakeLists.txt**. Некоторые папки могут содержать папки с реализациями под разные
платформы (например, **f1** и **f4**), а также папки **upper_half** и **lower_half**, содержащие
независимую от платформы логику и платформозависимые драйвера. \
Кроме того, в корневой папке имеются папки **libs** (сторонние библиотеки) и **resources**
с ресурсами сборки.

## Платформы

На данный момент поддерживается два микроконтроллера семейства STM32 - **STM32F103** и **STM32F407**.
Не все модули поддерживают оба контроллера, смотрите предупреждения сборки.

## Сборка

Для инициализации сабмодуля Hydrolib-soft:

```
git submodule update --init --recursive
```

Для конфигурации проекта из корневой директории вызовите (*DebugF4* для сборки под STM32F407 и
*DebugF1* для сборки под STM32F103):

```
cmake --preset DebugF4
```

Запустите сборку командой:

```
cmake --build ./build
```

После этого собранные примеры находятся в папках *build/module_name/example/TargetName.elf*
